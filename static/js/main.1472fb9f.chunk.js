(this.webpackJsonpelf_tz=this.webpackJsonpelf_tz||[]).push([[0],{88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),o=n.n(c),s=n(9),i=n(15),l=n(16),u=n(4),d=n(19),h=n.n(d),j="GET_USERS_REQUEST",p="GET_USERS_SUCCESS",b="GET_USERS_FAIL";var v={data:[],error:"",isFetching:!1};var f=n(28),O=n.n(f),m=n(43),x="GET_ALBUMS_REQUEST",g="GET_ALBUMS_SUCCESS",y="GET_ALBUMS_FAIL";var w={data:[],error:"",isFetching:!1};var I=Object(l.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{isFetching:!0,error:""});case p:return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,data:t.payload});case b:return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,error:t.payload.message});default:return e}},albums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(u.a)(Object(u.a)({},e),{},{isFetching:!0,error:""});case g:return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,data:t.payload});case y:return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,error:t.payload.message});default:return e}}}),_=n(44),k=n.n(_),S=n(45),U=Object(l.d)(I,Object(l.a)(S.a,k.a)),E=n(10),C=n(11),F=n(13),N=n(12),T=n(3),A=n(1),M=function(e){Object(F.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderTemplate=function(){var t=e.props,n=t.data,r=t.error,a=t.isFetching;return r?Object(A.jsxs)("p",{children:["\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 ",r]}):a?Object(A.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):n.length?Object(A.jsx)("div",{children:n.map((function(e,t){return Object(A.jsx)("div",{children:Object(A.jsx)(s.b,{className:"userName",to:"/users/".concat(e.id),children:e.name})},e.id)}))}):void 0},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),this.renderTemplate()]})}}]),n}(a.a.Component),R=Object(i.b)((function(e){return{data:e.users.data,error:e.users.error,isFetching:e.users.isFetching}}),(function(e){return{loadUsers:function(){return e((function(e){e({type:j}),h.a.get("https://jsonplaceholder.typicode.com/users").then((function(t){e({type:p,payload:t.data})})).catch((function(t){e({type:b,error:!0,payload:new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u0435\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")})}))}))}}}))(M),L=function(e){Object(F.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderTemplate=function(){var t=e.props,n=t.data,r=t.error,a=t.isFetching;return r?Object(A.jsxs)("p",{children:["\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 ",r]}):a?Object(A.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):n.length?Object(A.jsx)("div",{children:n.map((function(e,t){return Object(A.jsx)("div",{children:Object(A.jsx)(s.b,{className:"album_link",to:"/users/".concat(e.userId,"/").concat(e.id),children:Object(A.jsxs)("div",{className:"album_card",children:[Object(A.jsx)("img",{src:"".concat(e.photos[0].thumbnailUrl),alt:""}),Object(A.jsxs)("div",{className:"album_desc",children:[Object(A.jsx)("p",{children:e.title}),Object(A.jsxs)("span",{children:[e.photos.length," \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"]})]})]})})},e.id)}))}):void 0},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.props.loadAlbums(this.props.match.params.userId)}},{key:"render",value:function(){var e=this,t=this.props.users_data;return Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"nav",children:Object(A.jsx)(s.b,{to:"/users",children:"Users"})}),Object(A.jsxs)("h1",{children:["\u0410\u043b\u044c\u0431\u043e\u043c\u044b ",t.length?t.find((function(t){return t.id===parseInt(e.props.match.params.userId,10)})).name:""]}),this.renderTemplate()]})}}]),n}(a.a.Component),G=Object(i.b)((function(e){return{data:e.albums.data,error:e.albums.error,isFetching:e.albums.isFetching,users_data:e.users.data}}),(function(e){return{loadAlbums:function(t){return e(function(e){return function(t){t({type:x});var n="https://jsonplaceholder.typicode.com/albums?userId="+e;h.a.get(n).then(function(){var e=Object(m.a)(O.a.mark((function e(n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(n.data.map((function(e){return h.a.get("https://jsonplaceholder.typicode.com/photos?albumId=".concat(e.id))})));case 3:r=e.sent,a=n.data.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{photos:r[t].data})})),t({type:g,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:y,error:!0,payload:new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0444\u043e\u0442\u043e")});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t({type:y,error:!0,payload:new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u043b\u044c\u0431\u043e\u043c\u043e\u0432")})}))}}(t))}}}))(L),B=n(46),P=n(47),W=n.n(P),z={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"0px"},overlay:{backgroundColor:"rgba(0,0,0,0.7)"}},Q=function(e){Object(F.a)(n,e);var t=Object(N.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).openModal=function(e,t){r.setState({modalIsOpen:!0,activeUrl:e,activeIndex:t})},r.closeModal=function(){r.setState({modalIsOpen:!1,activeUrl:"",activeIndex:-1})},r.nextPhoto=function(e){var t=r.state.activeIndex;t+1>e.length-1||r.setState({modalIsOpen:!0,activeUrl:e[t+1].url,activeIndex:t+1})},r.prevPhoto=function(e){var t=r.state.activeIndex;t-1<0||r.setState({modalIsOpen:!0,activeUrl:e[t-1].url,activeIndex:t-1})},r.state={modalIsOpen:!1,activeUrl:"",activeIndex:-1},r}return Object(C.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.modalIsOpen,a=t.activeUrl,c=this.props.data,o=this.props.match.params.albumId;if(0===c.length)return Object(A.jsx)(T.d,{children:Object(A.jsx)(T.a,{to:"/users"})});var i=c.find((function(e){return e.id===parseInt(o,10)}));return Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"nav",children:[Object(A.jsx)(s.b,{to:"/users",children:"Users"}),Object(A.jsx)(s.b,{to:"/users/".concat(i.userId),children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0430\u043b\u044c\u0431\u043e\u043c\u0443"})]}),Object(A.jsx)("h1",{children:"\u0424\u043e\u0442\u043e"}),i.photos.map((function(t,n){return Object(A.jsx)("div",{className:"thumb_photo",children:Object(A.jsx)(r.Suspense,{children:Object(A.jsx)(B.Img,{src:t.thumbnailUrl,onClick:function(){return e.openModal(t.url,n)}})})},t.id)})),Object(A.jsx)(W.a,{isOpen:n,ariaHideApp:!1,style:z,onRequestClose:this.closeModal,children:Object(A.jsx)("div",{children:Object(A.jsxs)("div",{className:"modal_photo",children:[Object(A.jsx)("div",{className:"prev_next",onClick:function(){return e.prevPhoto(i.photos)},children:Object(A.jsx)("span",{children:"<<"})}),Object(A.jsx)("div",{className:"big_img",children:Object(A.jsx)("img",{src:a,alt:""})}),Object(A.jsx)("div",{className:"prev_next",onClick:function(){return e.nextPhoto(i.photos)},children:Object(A.jsx)("span",{children:">>"})})]})})})]})}}]),n}(a.a.Component),D=Object(i.b)((function(e){return{data:e.albums.data}}),(function(e){return{}}))(Q),J=function(e){Object(F.a)(n,e);var t=Object(N.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return Object(A.jsx)("h1",{children:"Not found"})}}]),n}(a.a.Component),q=function(e){Object(F.a)(n,e);var t=Object(N.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return Object(A.jsx)("div",{className:"app",children:Object(A.jsxs)(T.d,{children:[Object(A.jsx)(T.b,{exact:!0,path:"/users",component:R}),Object(A.jsx)(T.b,{path:"/users/:userId/:albumId",component:D}),Object(A.jsx)(T.b,{path:"/users/:userId",component:G}),Object(A.jsx)(T.a,{exact:!0,from:"/",to:"/users"}),Object(A.jsx)(T.b,{component:J})]})})}}]),n}(a.a.Component),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(88),n(89),n(90),n(91);o.a.render(Object(A.jsx)(i.a,{store:U,children:Object(A.jsx)(s.a,{children:Object(A.jsx)(q,{})})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/elfsight_tz",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/elfsight_tz","/service-worker.js");H?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):$(e)}))}}()}},[[92,1,2]]]);
//# sourceMappingURL=main.1472fb9f.chunk.js.map